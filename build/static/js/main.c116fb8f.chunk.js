(this.webpackJsonpmonster=this.webpackJsonpmonster||[]).push([[0],{14:function(e,n,t){e.exports=t(37)},36:function(e,n,t){},37:function(e,n,t){"use strict";t.r(n);var a=t(2),c=t(0),u=t.n(c),r=t(13),l=t.n(r),o=t(3),i=t.n(o),s="http://localhost:3001/api/persons",m=(t(36),function(){var e=Object(c.useState)(null),n=Object(a.a)(e,2),t=n[0],r=n[1],l=Object(c.useState)(""),o=Object(a.a)(l,2),m=o[0],v=o[1],p=Object(c.useState)(""),g=Object(a.a)(p,2),j=g[0],O=g[1],w=Object(c.useState)(""),C=Object(a.a)(w,2),S=C[0],N=C[1],y=Object(c.useState)(null),T=Object(a.a)(y,2),k=T[0],V=T[1],B=Object(c.useState)(null),J=Object(a.a)(B,2),P=J[0],x=J[1];Object(c.useEffect)((function(){i.a.get(s).then((function(e){r(e.data)})).catch((function(e){x(e.message,"try again")}))}),[r]);return u.a.createElement("div",null,u.a.createElement(b,{success:k}),u.a.createElement(E,{error:P}),u.a.createElement("h2",null,"phoneBook"),u.a.createElement(d,{searchValue:S,handleSearchChange:function(e){N(e.target.value)}}),u.a.createElement("h3",null,"Add a new"),u.a.createElement(f,{handleNameChange:function(e){v(e.target.value)},handleNumberChange:function(e){O(e.target.value)},handleSubmit:function(e){e.preventDefault();!function(){var e,n,a={name:m,number:j},c=t.find((function(e){return e.name===m}));c?(e=c.id,n=a,i.a.put("".concat(s,"/").concat(e),n)).then((function(e){r(t.filter((function(e){return e.name!==c.name})).concat(e.data)),V("added ".concat(a.name)),setTimeout((function(){V(null)}),3e3)})).catch((function(e){x("".concat(e.response.data.error)),setTimeout((function(){x(null)}),3e3)})):function(e){return i.a.post(s,e)}(a).then((function(e){r(t.concat(e.data)),V("added ".concat(a.name)),setTimeout((function(){V(null)}),3e3)})).catch((function(e){x("".concat(e.response.data.error)),setTimeout((function(){x(null)}),3e3)})),v(""),O("")}()}}),u.a.createElement("h3",null,"Numbers"),u.a.createElement(h,{deletePerson:function(e,n){window.confirm("do you really wanna delete ".concat(e))&&(function(e){return i.a.delete("".concat(s,"/").concat(e))}(n).then((function(n){V("deleted ".concat(e)),setTimeout((function(){V(null)}),3e3)})).catch((function(n){x("".concat(e,"'s data is already deleted")),setTimeout((function(){x(null)}),3e3)})),r(t.filter((function(e){return e.id!==n}))))},persons:t,searchValue:S}))}),d=function(e){var n=e.searchValue,t=e.handleSearchChange;return u.a.createElement("div",null,"filter show with:",u.a.createElement("input",{value:n,onChange:t}))},f=function(e){var n=e.newName,t=e.handleSubmit,a=e.handleNameChange,c=e.newNumber,r=e.handleNumberChange;return u.a.createElement("form",{onSubmit:t},u.a.createElement("div",null,"name: ",u.a.createElement("input",{value:n,onChange:a})),u.a.createElement("div",null,"Number: ",u.a.createElement("input",{value:c,onChange:r})),u.a.createElement("div",null,u.a.createElement("button",{type:"submit"},"add")))},h=function(e){var n,t=e.searchValue,a=e.persons,c=e.deletePerson;return u.a.createElement("div",null,null===a||void 0===a||null===(n=a.filter((function(e){return e.name.includes(t)})))||void 0===n?void 0:n.map((function(e){var n=e.name,a=e.number,r=e.id;return n.toLowerCase().includes(t)&&u.a.createElement("p",{key:r},n," ",a,u.a.createElement("button",{onClick:function(){c(n,r)}},"delete"))})))},b=function(e){var n=e.success;return null===n?null:u.a.createElement("h6",{className:"success"}," ",n)},E=function(e){var n=e.error;return null===n?null:u.a.createElement("h6",{className:"error"}," ",n)};l.a.render(u.a.createElement(m,null),document.getElementById("root"))}},[[14,1,2]]]);
//# sourceMappingURL=main.c116fb8f.chunk.js.map